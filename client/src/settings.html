<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ffffff">
    <title>Settings - Pandora Box</title>
    <link rel="stylesheet" href="./styles/theme.css">
    <link rel="stylesheet" href="./styles/main.css">
    <link rel="stylesheet" href="./styles/settings.css">
    <link rel="stylesheet" href="./styles/navigation.css">
    <link rel="manifest" href="./manifest.json">
    <link rel="icon" href="./assets/favicon.ico" type="image/x-icon">
</head>
<body>
    <div id="app" class="app-container">

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <h1>Settings</h1>
            </header>

            <div id="notification-container"></div>

            <div class="settings-container">
                <!-- Password Update Section -->
                <section class="settings-section">
                    <h2>Password Update</h2>
                    <form id="password-form" class="settings-form">
                        <div class="form-group">
                            <label for="current-password">Current Password</label>
                            <input type="password" id="current-password" name="current-password" required>
                        </div>
                        <div class="form-group">
                            <label for="new-password">New Password</label>
                            <input type="password" id="new-password" name="new-password" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-password">Confirm New Password</label>
                            <input type="password" id="confirm-password" name="confirm-password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Update Password</button>
                    </form>
                </section>

                <!-- API Keys Section -->
                <section class="settings-section">
                    <h2>API Keys</h2>
                    <form id="api-keys-form" class="settings-form">
                        <div class="form-group">
                            <label for="tmdb-key">TMDB API Key</label>
                            <div class="input-with-buttons">
                                <input type="text" id="tmdb-key" name="tmdb-key">
                                <div class="button-group">
                                    <button type="button" class="btn btn-primary save-api-key-btn" data-service="tmdb">Save</button>
                                    <button type="button" class="btn btn-secondary test-connection-btn" data-service="tmdb">Test Connection</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="watchmode-key">Watchmode API Key</label>
                            <div class="input-with-buttons">
                                <input type="password" id="watchmode-key" name="watchmode-key">
                                <div class="button-group">
                                    <button type="button" class="btn btn-primary save-api-key-btn" data-service="watchmode">Save</button>
                                    <button type="button" class="btn btn-secondary test-connection-btn" data-service="watchmode">Test Connection</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="jackett-key">Jackett API Key</label>
                            <div class="input-with-buttons">
                                <input type="password" id="jackett-key" name="jackett-key">
                                <div class="button-group">
                                    <button type="button" class="btn btn-primary save-api-key-btn" data-service="jackett">Save</button>
                                    <button type="button" class="btn btn-secondary test-connection-btn" data-service="jackett">Test Connection</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="jellyfin-key">Jellyfin API Key</label>
                            <div class="input-with-buttons">
                                <input type="password" id="jellyfin-key" name="jellyfin-key">
                                <div class="button-group">
                                    <button type="button" class="btn btn-primary save-api-key-btn" data-service="jellyfin">Save</button>
                                    <button type="button" class="btn btn-secondary test-connection-btn" data-service="jellyfin">Test Connection</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cloud-commander-key">Cloud Commander API Key</label>
                            <div class="input-with-buttons">
                                <input type="password" id="cloud-commander-key" name="cloud-commander-key">
                                <div class="button-group">
                                    <button type="button" class="btn btn-primary save-api-key-btn" data-service="cloudCommander">Save</button>
                                    <button type="button" class="btn btn-secondary test-connection-btn" data-service="cloudCommander">Test Connection</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </section>

                <!-- Jackett Configuration Section -->
                <section class="settings-section">
                    <h2>Jackett Configuration</h2>
                    <form id="jackett-form" class="settings-form">
                        <div class="form-group">
                            <label for="jackett-url">URL</label>
                            <input type="text" id="jackett-url" name="jackett-url" placeholder="http://192.168.1.100:9117">
                        </div>
                        <div class="form-group">
                            <label for="jackett-api-key">API Key</label>
                            <input type="password" id="jackett-api-key" name="jackett-api-key">
                        </div>
                        <div class="button-group">
                            <button type="button" class="btn btn-primary save-jackett-btn">Save</button>
                            <button type="button" class="btn btn-secondary test-jackett-btn">Test Connection</button>
                        </div>
                    </form>
                </section>

                <!-- qBittorrent Configuration Section -->
                <section class="settings-section">
                    <h2>qBittorrent Configuration</h2>
                    <form id="qbittorrent-form" class="settings-form">
                        <div class="form-group">
                            <label for="qbittorrent-url">URL</label>
                            <input type="text" id="qbittorrent-url" name="qbittorrent-url" placeholder="http://192.168.1.100:8080">
                        </div>
                        <div class="form-group">
                            <label for="qbittorrent-username">Username</label>
                            <input type="text" id="qbittorrent-username" name="qbittorrent-username" placeholder="admin">
                        </div>
                        <div class="form-group">
                            <label for="qbittorrent-password">Password</label>
                            <input type="password" id="qbittorrent-password" name="qbittorrent-password">
                        </div>
                        <div class="button-group">
                            <button type="button" class="btn btn-primary save-qbittorrent-btn">Save</button>
                            <button type="button" class="btn btn-secondary test-qbittorrent-btn">Test Connection</button>
                        </div>
                    </form>
                </section>

                <!-- Filebrowser Configuration Section -->
                <section class="settings-section">
                    <h2>Filebrowser Configuration</h2>
                    <form id="filebrowser-form" class="settings-form">
                        <div class="form-group">
                            <label for="filebrowser-url">URL</label>
                            <input type="text" id="filebrowser-url" name="filebrowser-url" placeholder="http://192.168.1.100:8080">
                        </div>
                        <div class="form-group">
                            <label for="filebrowser-username">Username</label>
                            <input type="text" id="filebrowser-username" name="filebrowser-username" placeholder="admin">
                        </div>
                        <div class="form-group">
                            <label for="filebrowser-password">Password</label>
                            <input type="password" id="filebrowser-password" name="filebrowser-password">
                        </div>
                        <div class="form-group">
                            <label for="movies-path">Movies Folder Path</label>
                            <input type="text" id="movies-path" name="movies-path" placeholder="/media/movies">
                        </div>
                        <div class="form-group">
                            <label for="shows-path">TV Shows Folder Path</label>
                            <input type="text" id="shows-path" name="shows-path" placeholder="/media/tvshows">
                        </div>
                        <div class="button-group">
                            <button type="button" class="btn btn-primary save-filebrowser-btn">Save</button>
                            <button type="button" class="btn btn-secondary test-filebrowser-btn">Test Connection</button>
                        </div>
                    </form>
                </section>

                <!-- Portainer Configuration Section -->
                <section class="settings-section">
                    <h2>Portainer Configuration</h2>
                    <form id="portainer-form" class="settings-form">
                        <div class="form-group">
                            <label for="portainer-url">URL</label>
                            <input type="text" id="portainer-url" name="portainer-url" placeholder="http://192.168.1.100:9000">
                        </div>
                        <div class="form-group">
                            <label for="portainer-api-key">API Key</label>
                            <input type="password" id="portainer-api-key" name="portainer-api-key">
                        </div>
                        <div class="form-group">
                            <label for="portainer-endpoint-id">Endpoint ID</label>
                            <input type="text" id="portainer-endpoint-id" name="portainer-endpoint-id" placeholder="2">
                        </div>
                        <div class="button-group">
                            <button type="button" class="btn btn-primary save-portainer-btn">Save</button>
                            <button type="button" class="btn btn-secondary test-portainer-btn">Test Connection</button>
                        </div>
                    </form>
                </section>

                <!-- Jellyfin Configuration Section -->
                <section class="settings-section">
                    <h2>Jellyfin Configuration</h2>
                    <form id="jellyfin-form" class="settings-form">
                        <div class="form-group">
                            <label for="jellyfin-url">URL</label>
                            <input type="text" id="jellyfin-url" name="jellyfin-url" placeholder="http://192.168.1.100:8096">
                        </div>
                        <div class="form-group">
                            <label for="jellyfin-api-key">API Key</label>
                            <input type="password" id="jellyfin-api-key" name="jellyfin-api-key">
                        </div>
                        <div class="button-group">
                            <button type="button" class="btn btn-primary save-jellyfin-btn">Save</button>
                            <button type="button" class="btn btn-secondary test-jellyfin-btn">Test Connection</button>
                        </div>
                    </form>
                </section>



                <!-- Theming Section -->
                <section class="settings-section">
                    <h2>Theming</h2>
                    <form id="theming-form" class="settings-form">
                        <div class="form-group">
                            <label for="theme-selector">Select Theme</label>
                            <select id="theme-selector" name="theme-selector" class="theme-selector">
                                <option value="default">Default Dark</option>
                                <option value="netflix">Netflix</option>
                                <option value="amazon-prime">Amazon Prime Video</option>
                                <option value="disney">Disney+</option>
                                <option value="nature">Nature</option>
                            </select>
                        </div>
                    </form>
                </section>

                <!-- Custom Theme Creator Section -->
                <section class="settings-section">
                    <h2>Custom Theme Creator</h2>
                    <p class="help-text">Create your own theme using a 4-color palette. Visit <a href="https://colorhunt.co/palettes/popular" target="_blank">ColorHunt</a> for color palette inspiration.</p>
                    <form id="custom-theme-form" class="settings-form">
                        <div class="form-group">
                            <label for="colorhunt-url">ColorHunt Palette URL (Optional)</label>
                            <div class="input-with-buttons">
                                <input type="text" id="colorhunt-url" placeholder="https://colorhunt.co/palette/1b3c53234c6a456882d2c1b6">
                                <button type="button" class="btn btn-secondary" id="import-palette-btn">Import</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="custom-theme-name">Theme Name</label>
                            <input type="text" id="custom-theme-name" placeholder="My Custom Theme" maxlength="20">
                        </div>
                        <div class="color-palette-grid">
                            <div class="color-input-group">
                                <label for="color1">Primary Color</label>
                                <input type="color" id="color1" value="#96A78D">
                                <input type="text" id="color1-hex" placeholder="#96A78D" maxlength="7">
                            </div>
                            <div class="color-input-group">
                                <label for="color2">Secondary Color</label>
                                <input type="color" id="color2" value="#B6CEB4">
                                <input type="text" id="color2-hex" placeholder="#B6CEB4" maxlength="7">
                            </div>
                            <div class="color-input-group">
                                <label for="color3">Accent Color</label>
                                <input type="color" id="color3" value="#D9E9CF">
                                <input type="text" id="color3-hex" placeholder="#D9E9CF" maxlength="7">
                            </div>
                            <div class="color-input-group">
                                <label for="color4">Text Color</label>
                                <input type="color" id="color4" value="#F0F0F0">
                                <input type="text" id="color4-hex" placeholder="#F0F0F0" maxlength="7">
                            </div>
                        </div>
                        <div class="button-group">
                            <button type="button" class="btn btn-primary" id="create-theme-btn">Create & Apply Theme</button>
                            <button type="button" class="btn btn-secondary" id="preview-theme-btn">Preview</button>
                        </div>
                    </form>
                </section>

                <!-- Environment Configuration Section -->
                <section class="settings-section">
                    <h2>Environment Configuration</h2>
                    <form id="env-config-form" class="settings-form">
                        <div class="form-group">
                            <label for="server-port">Server Port</label>
                            <div class="input-with-buttons">
                                <input type="number" id="server-port" name="server-port" min="1" max="65535">
                                <div class="button-group">
                                    <button type="button" class="btn btn-primary save-env-config-btn" data-config="serverPort">Save</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="db-path">LokiJS Database File Path</label>
                            <div class="input-with-buttons">
                                <input type="text" id="db-path" name="db-path">
                                <div class="button-group">
                                    <button type="button" class="btn btn-primary save-env-config-btn" data-config="dbPath">Save</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </section>
            </div>
        </main>
    </div>

    <script type="module" src="./main.js"></script>
    <script type="module" src="./pages/settings.js"></script>
</body>
</html>